---
date created: 2025-08-22 17:55:53
date modified: 2025-08-23 05:13:52
title: 【プロンプト】Cursol専用_料理MDタグ付け
---

## 概要

このガイドは、指定されたディレクトリ内のレシピファイルに対して、統一された素材タグを追加するための完全な手順書です。AI が効率的かつ一貫性のあるタグ付けを行うための包括的な指示書として機能します。（主に Cursol での利用を想定しています）

## 作業の流れ

### Step 1: 対象ディレクトリの確認

1. 指定されたディレクトリパスを確認
2. 対象となる.md ファイルを特定
3. 既存のタグ状況を調査

### Step 2: 表記ゆれの統一

1. 「醤油」→「しょうゆ」に統一
2. 「味噌」→「みそ」に統一
3. 「人参」→「にんじん」に統一

### Step 3: 素材タグの追加

1. 各レシピの主要素材を特定
2. マスタデータに基づく統一表記でタグ追加
3. 網羅性チェックの実施

### Step 4: マスタデータの更新

1. 新しい素材の追加
2. 使用頻度の更新
3. 表記ルールの維持

## 素材タグマスタデータ

### 表記ルール

- **ひらがな表記を基本とする**（例：にんじん、じゃがいも）
- **カタカナ表記は外来語のみ**（例：パスタ、チーズ）
- **漢字表記は一般的な表記のみ**（例：豆腐、牛肉）

### 素材タグマスタデータ（JSON 形式）

```json
{
  "表記ルール": {
    "基本": "ひらがな表記",
    "外来語": "カタカナ表記",
    "一般的な漢字": "漢字表記"
  },
  "肉類": [
    "牛肉", "豚肉", "鶏肉", "ひき肉", "豚バラ肉", "豚ロース肉", "豚肩肉", "豚もも肉",
    "牛肩肉", "牛もも肉", "牛ロース肉", "牛バラ肉", "鶏むね肉", "鶏もも肉", "鶏手羽元",
    "鶏手羽先", "鶏ささみ", "鶏レバー", "豚ひき肉", "牛ひき肉", "鶏ひき肉", "合いびき肉",
    "ベーコン", "ハム", "ソーセージ", "ウインナー", "スパム", "サラミ", "生ハム"
  ],
  "魚介類": [
    "エビ", "カニかま", "ツナ", "サバ", "鮭", "鯖", "鯵", "イワシ", "アジ", "サンマ",
    "カレイ", "ヒラメ", "タラ", "マグロ", "サーモン", "ブリ", "カンパチ", "ハマチ",
    "アンチョビ", "シーチキン", "サバ缶", "ツナ缶", "イワシ缶", "鮭缶", "カニ缶",
    "ホタテ", "アサリ", "シジミ", "牡蠣", "ムール貝", "エビ", "カニ", "イカ", "タコ",
    "イクラ", "タラコ", "明太子", "数の子", "ちりめんじゃこ", "しらす", "かつお節",
    "煮干し", "昆布", "わかめ", "ひじき", "もずく", "めかぶ", "とろろ昆布"
  ],
     "野菜類": [
     "キャベツ", "きゅうり", "グリーンピース", "コーン", "じゃがいも", "大根", "トマト",
     "なす", "にら", "にんじん", "ねぎ", "青ねぎ", "白菜", "ピーマン", "レタス", "レモン",
     "パプリカ", "アスパラガス", "オクラ", "ゴーヤ", "長芋", "れんこん", "枝豆",
     "玉ねぎ", "たまねぎ", "にんにく", "しょうが", "とうがらし", "とうもろこし", "かぼちゃ",
     "さつまいも", "里芋", "山芋", "ごぼう", "うど", "ふき", "わらび", "ぜんまい",
     "たけのこ", "筍", "青梗菜", "小松菜", "ほうれん草", "春菊", "水菜", "ルッコラ",
     "クレソン", "セロリ", "パセリ", "バジル", "ローズマリー", "タイム", "オレガノ",
     "ディル", "チャービル", "タラゴン", "セージ", "マジョラム", "レモングラス",
     "レモンバーム", "ミント", "ラベンダー", "カモミール", "レモンバーベナ"
   ],
   "きのこ類": [
     "えのきだけ", "しいたけ", "まいたけ", "なめこ", "きくらげ", "エリンギ",
     "マッシュルーム", "椎茸", "松茸", "しめじ", "舞茸", "木耳"
   ],
   "豆・加工品": [
     "豆腐", "油揚げ", "厚揚げ", "かまぼこ", "ちくわ", "おから", "納豆", "枝豆",
     "グリーンピース", "レンズ豆", "ひよこ豆", "白いんげん", "黒豆", "小豆", "あずき",
     "金時豆", "うずら豆", "虎豆", "花豆", "白花豆", "紫花豆", "黒花豆"
   ],
   "穀物・麺類": [
     "ご飯", "米", "パスタ", "中華麺", "春雨", "そば", "ちゃんぽん麺", "うどん",
     "ラーメン", "焼きそば", "そうめん", "ひやむぎ", "きしめん", "ほうとう",
     "スパゲッティ", "ペンネ", "マカロニ", "ラザニア", "リゾット", "ピラフ", "チャーハン",
     "炊き込みご飯", "おにぎり", "お寿司", "ちらし寿司", "巻き寿司", "手巻き寿司",
     "稲荷寿司", "いなり寿司", "稲荷", "いなり"
   ],
   "調味料・香辛料": [
     "しょうが", "しょうゆ", "にんにく", "みそ", "みりん", "酒", "ケチャップ",
     "ケーパー", "マヨネーズ", "バター", "ごま油", "オリーブオイル", "酢", "オイスターソース",
     "豆板醤", "甜麺醤", "コチュジャン", "キムチ", "ウスターソース", "ポン酢",
     "七味唐辛子", "赤唐辛子", "鷹の爪", "砂糖", "塩", "こしょう", "黒こしょう",
     "白こしょう", "カレー粉", "ガラムマサラ", "クミン", "コリアンダー", "ターメリック",
     "チリパウダー", "パプリカ", "オールスパイス", "シナモン", "ナツメグ", "クローブ",
     "カルダモン", "フェンネル", "アニス", "キャラウェイ", "ディルシード", "マスタード",
     "わさび", "からし", "辛子"
   ],
   "卵・乳製品": [
     "卵", "チーズ", "生クリーム", "牛乳", "ヨーグルト", "バター", "マーガリン",
     "クリームチーズ", "モッツァレラ", "パルメザン", "チェダー", "ゴーダ", "エメンタール",
     "ブルーチーズ", "カマンベール", "ブリーチーズ", "リコッタ", "マスカルポーネ"
   ],
   "その他食材": [
     "かぼちゃ", "こんにゃく", "パン粉", "ピクルス", "もやし", "わかめ", "ハム",
     "ベーコン", "スパム", "ソーセージ", "イングリッシュマフィン", "アンチョビ",
     "鰹節", "大葉", "青じそ", "パセリ", "海苔", "のり", "焼き海苔", "味付け海苔",
     "青のり", "岩のり", "あおさ", "ひじき", "もずく", "めかぶ", "とろろ昆布",
     "天かす", "揚げ玉", "天ぷら粉", "小麦粉", "薄力粉", "強力粉", "片栗粉",
     "コーンスターチ", "ベーキングパウダー", "ベーキングソーダ", "ドライイースト",
     "インスタントドライイースト", "生イースト"
   ],
   "料理カテゴリ": [
     "料理", "炊き込みご飯", "春巻き", "餃子", "シュウマイ", "焼売", "肉まん",
     "あんまん", "ピザ", "ハンバーガー", "サンドイッチ", "トースト", "パン",
     "食パン", "フランスパン", "バゲット", "クロワッサン", "デニッシュ", "ベーグル",
     "イングリッシュマフィン", "ホットケーキ", "パンケーキ", "ワッフル", "ドーナツ",
     "クッキー", "ビスケット", "ケーキ", "チョコレートケーキ", "チーズケーキ",
     "ティラミス", "プリン", "ゼリー", "アイスクリーム", "シャーベット", "かき氷",
     "みつまめ", "あんみつ", "わらびもち", "くずもち", "ようかん", "羊羹",
     "大福", "だいふく", "まんじゅう", "饅頭", "どら焼き", "銅鑼焼き", "たい焼き",
     "鯛焼き", "今川焼き", "お好み焼き", "たこ焼き", "たこやき", "明石焼き",
     "広島焼き", "もんじゃ焼き", "文字焼き", "鉄板焼き", "焼き肉", "焼き鳥",
     "焼き魚", "焼き野菜", "焼き芋", "焼きとうもろこし"
   ]
}
```

## タグ付けの基本ルール

### 1. タグの追加方法

- 既存の「料理」タグの下に、主要素材のタグを追加
- タグは配列形式 `tags: [料理, 素材1, 素材2, …]` またはリスト形式 `tags:\n  - 料理\n  - 素材1\n  - 素材2` で記載

### 2. 素材の選択基準

- **主要素材**: レシピの主役となる食材（例：肉、魚、野菜）
- **特徴的な素材**: レシピの特徴を表す食材（例：珍しい野菜、調味料）
- **調味料**: 主要な調味料（例：しょうゆ、みそ、酒、みりん）
- **調理法**: 特徴的な調理法（例：揚げる、蒸す、煮る）

### 3. タグ数の目安

- 主菜: 3-6 個のタグ
- 副菜: 2-4 個のタグ
- 麺類: 3-5 個のタグ
- 調味料: 2-4 個のタグ

## タグ付けの手順

### Step 1: 素材タグマスタの確認

1. 上記のマスタデータを参照
2. 使用予定の素材がリストに含まれているか確認
3. 含まれていない場合は、マスタに追加してから使用

### Step 2: レシピの分析

1. 材料セクションを確認
2. 主要な食材を特定
3. 特徴的な調味料を特定

### Step 3: タグの追加

1. 既存のタグ形式を確認（配列形式 or リスト形式）
2. 統一された表記でタグを追加
3. タグの順序は重要度順（主要素材 → 副次素材）

## 使用例

### 例 1: 配列形式のタグ追加

```yaml
# 変更前
tags: [料理]

# 変更後
tags: [料理, 牛肉, じゃがいも, にんじん, 玉ねぎ]
```

### 例 2: リスト形式のタグ追加

```yaml
# 変更前
tags:
  - 料理

# 変更後
tags:
  - 料理
  - 牛肉
  - じゃがいも
  - にんじん
  - 玉ねぎ
```

## よくある間違い例

### 間違い例 1: 表記ゆれ

```yaml
tags:
  - 料理
  - 人参  # 誤: にんじんに統一すべき
  - ジャガイモ  # 誤: じゃがいもに統一すべき
```

### 間違い例 2: 過剰なタグ

```yaml
tags:
  - 料理
  - 牛肉
  - じゃがいも
  - にんじん
  - 玉ねぎ
  - しょうゆ  # 一般的すぎる調味料
  - 酒  # 一般的すぎる調味料
  - みりん  # 一般的すぎる調味料
  - 砂糖  # 一般的すぎる調味料
```

### 間違い例 3: マスタにない表記

```yaml
tags:
  - 料理
  - 牛の肉  # 誤: 牛肉に統一すべき
  - 豆富  # 誤: 豆腐に統一すべき
```

## 正しいタグ付けのポイント

1. **マスタデータの確認**: 必ず上記のマスタデータを参照
2. **主要素材の優先**: レシピの主役となる食材を優先
3. **適切なタグ数**: 3-6 個程度に収める
4. **表記の統一**: マスタデータの表記に従う
5. **特徴の表現**: レシピの特徴を表す素材を選択

## 網羅性チェック手順

### 1. 表記ゆれの統一

```bash
# 醤油 → しょうゆ の統一
find . -name "*.md" -exec sed -i '' 's/醤油/しょうゆ/g' {} \;

# 味噌 → みそ の統一
find . -name "*.md" -exec sed -i '' 's/味噌/みそ/g' {} \;
```

### 2. タグ形式の統一確認

```bash
# 配列形式とリスト形式の混在を確認
echo "=== タグ形式の確認 ==="
echo "1. 配列形式のタグがあるファイル:" && find . -name "*.md" -exec grep -l "tags: \[" {} \; | wc -l
echo "2. リスト形式のタグがあるファイル:" && find . -name "*.md" -exec grep -l "tags:\n  - " {} \; | wc -l

# 推奨：配列形式に統一
find . -name "*.md" -exec sh -c '
  if grep -q "tags:\n  - " "$1"; then
    echo "リスト形式を配列形式に変換: $1"
    # ここで変換処理を実行
  fi
' _ {} \;
```

### 3. 段階的異常検知システム

```bash
# 段階的スクリーニングによる異常検知
echo "=== 段階的異常検知システム ==="

# Step 1: タグなしファイルの検出（最優先）
echo "Step 1: タグなしファイル（最優先対応）"
find . -name "*.md" -exec sh -c '
  if ! grep -q "tags:" "$1"; then
    echo "  タグなし: $1"
  fi
' _ {} \;

# Step 2: 料理タグのみのファイル（高優先度）
echo "Step 2: 料理タグのみのファイル（高優先度）"
find . -name "*.md" -exec sh -c '
  if grep -q "tags: \[" "$1"; then
    # 配列形式の場合
    tag_count=$(grep "tags: \[" "$1" | grep -o "\[.*\]" | tr "," "\n" | grep -v "料理" | wc -l)
    if [ $tag_count -eq 0 ]; then
      echo "  料理タグのみ: $1"
    fi
  else
    # リスト形式の場合
    tag_count=$(grep -A 10 "tags:" "$1" | grep "  - " | grep -v "料理" | wc -l)
    if [ $tag_count -eq 0 ]; then
      echo "  料理タグのみ: $1"
    fi
  fi
' _ {} \;

# Step 3: タグ数1-2個のファイル（中優先度）
echo "Step 3: タグ数1-2個のファイル（中優先度）"
find . -name "*.md" -exec sh -c '
  if grep -q "tags: \[" "$1"; then
    # 配列形式の場合
    tag_count=$(grep "tags: \[" "$1" | grep -o "\[.*\]" | tr "," "\n" | grep -v "料理" | wc -l)
    if [ $tag_count -ge 1 ] && [ $tag_count -le 2 ]; then
      echo "  タグ数${tag_count}個: $1"
    fi
  else
    # リスト形式の場合
    tag_count=$(grep -A 10 "tags:" "$1" | grep "  - " | grep -v "料理" | wc -l)
    if [ $tag_count -ge 1 ] && [ $tag_count -le 2 ]; then
      echo "  タグ数${tag_count}個: $1"
    fi
  fi
' _ {} \;

# Step 4: 過剰なタグ数のファイル（低優先度）
echo "Step 4: 過剰なタグ数のファイル（低優先度）"
find . -name "*.md" -exec sh -c '
  if grep -q "tags: \[" "$1"; then
    # 配列形式の場合
    tag_count=$(grep "tags: \[" "$1" | grep -o "\[.*\]" | tr "," "\n" | grep -v "料理" | wc -l)
    if [ $tag_count -gt 8 ]; then
      echo "  タグ数${tag_count}個（過剰）: $1"
    fi
  else
    # リスト形式の場合
    tag_count=$(grep -A 10 "tags:" "$1" | grep "  - " | grep -v "料理" | wc -l)
    if [ $tag_count -gt 8 ]; then
      echo "  タグ数${tag_count}個（過剰）: $1"
    fi
  fi
' _ {} \;

echo "=== 段階的スクリーニング完了 ==="
```

### 4. 統計情報の確認（両形式対応）

```bash
# 正確なタグ付け統計
echo "=== 正確なタグ付け統計 ==="
echo "1. 全ファイル数:" && find . -name "*.md" | wc -l
echo "2. 配列形式のタグがあるファイル:" && find . -name "*.md" -exec grep -l "tags: \[" {} \; | wc -l
echo "3. リスト形式のタグがあるファイル:" && find . -name "*.md" -exec grep -l "tags:\n  - " {} \; | wc -l
echo "4. 素材タグの総数（リスト形式）:" && find . -name "*.md" -exec grep -A 10 "tags:" {} \; | grep "  - " | grep -v "料理" | wc -l
echo "5. 平均タグ数:" && echo "scale=1; $(find . -name "*.md" -exec grep -A 10 "tags:" {} \; | grep "  - " | grep -v "料理" | wc -l) / $(find . -name "*.md" | wc -l)" | bc
```

## トラブルシューティング

### Q: マスタにない素材が出てきた場合

A: マスタデータに追加してから使用してください

### Q: 表記が迷う場合

A: マスタデータの表記ルールに従い、最も一般的な表記を選択してください

### Q: タグ数が多くなりすぎる場合

A: 主要素材（3-4 個）に絞り、調味料は特徴的なもののみにしてください

### Q: 配列形式とリスト形式が混在している場合

A: 配列形式に統一することを推奨します。以下の手順で確認・変換してください：

```bash
# 1. 現在の形式を確認
echo "=== タグ形式の確認 ==="
echo "配列形式のファイル:" && find . -name "*.md" -exec grep -l "tags: \[" {} \; | wc -l
echo "リスト形式のファイル:" && find . -name "*.md" -exec grep -l "tags:\n  - " {} \; | wc -l

# 2. リスト形式のファイルを特定
find . -name "*.md" -exec sh -c '
  if grep -q "tags:\n  - " "$1"; then
    echo "リスト形式: $1"
  fi
' _ {} \;
```

### Q: Grep コマンドでタグ数が正しくカウントされない場合

A: 配列形式とリスト形式が混在しているためです。以下の方法で正確に確認してください：

```bash
# 配列形式のタグ数を正確にカウント
find . -name "*.md" -exec sh -c '
  if grep -q "tags: \[" "$1"; then
    tag_count=$(grep "tags: \[" "$1" | grep -o "\[.*\]" | tr "," "\n" | grep -v "料理" | wc -l)
    echo "$1: $tag_count tags (配列形式)"
  fi
' _ {} \;
```

## 品質保証チェックリスト

### 基本チェック項目

- [ ] 表記ゆれの統一（醤油→しょうゆ、味噌→みそ）
- [ ] 主要素材のタグ追加（3-6 個程度）
- [ ] マスタデータに基づく統一表記
- [ ] タグ形式の統一確認（配列形式推奨）

### 段階的異常検知チェック

- [ ] Step 1: タグなしファイルの確認（0 件であることを確認）
- [ ] Step 2: 料理タグのみのファイルの確認（0 件であることを確認）
- [ ] Step 3: タグ数 1-2 個のファイルの確認（必要に応じて追加）
- [ ] Step 4: 過剰なタグ数のファイルの確認（8 個以下であることを確認）

### 統計確認

- [ ] 網羅性の確認（配列形式・リスト形式両対応）
- [ ] 統計情報の確認（両形式対応の正確な統計）
- [ ] 平均タグ数 2.7 個以上の確認

## 更新履歴

- 2025-08-22: 初版作成（複数ファイルを統合）
- 2025-08-22: マスタデータの拡充（新素材の追加）
- 2025-08-22: 網羅性チェック手順の追加
- 2025-08-22: 配列形式・リスト形式混在問題への対応追加
- 2025-08-22: 正確な統計取得コマンドの追加
- 2025-08-22: トラブルシューティングの拡充

---

## 使用方法

このガイドを参照して、指定されたディレクトリ内のレシピファイルに対して統一されたタグ付けを実行してください。マスタデータは必要に応じて更新し、一貫性のあるタグ付けを維持してください。
